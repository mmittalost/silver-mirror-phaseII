<app-header title="Book an Appointment"></app-header>

<!--Main Content-->
		
    <main id="main">

        <section class="login">
            <div class="container flex-container">
        
                <article class="grid">
        
                    <span class="login-sparkles"></span>
        
                    <h1 class="heading-4">Login or Create an Account</h1>
        
                    
                    <div [formGroup]="emailForm" class="login-form" *ngIf='!(authService.$otp | async)'>
                        <input type="email" formControlName="email" id="email" name="email" placeholder="Email Address" [(ngModel)]="email">
                        <div *ngIf="emailForm.controls.email.invalid && (emailForm.controls.email.dirty || emailForm.controls.email.touched)">
                            <div *ngIf="emailForm.controls.email.errors?.required">Email is required</div>
                            <div *ngIf="emailForm.controls.email.errors?.email">Invalid Email</div>
                        </div>
                        <input class="btn" type="submit" value="Continue" (click)="generateOTP()">
                    </div>
                    <div [formGroup]="otpForm" class="login-form" *ngIf='authService.$otp | async'>
                        <input maxLength="6" minLength="4" formControlName="otp" type="text" id="otp" name="otp" placeholder="Enter OTP" [(ngModel)]="enteredotp">
                        <div *ngIf="otpForm.controls.otp.invalid && (otpForm.controls.otp.dirty || otpForm.controls.otp.touched)">
                            <div *ngIf="otpForm.controls.otp.errors?.required">OTP is required</div>
                            <div *ngIf="otpForm.controls.otp.errors?.minlength || otpForm.controls.otp.errors?.maxlength">Invalid OTP</div>
                        </div>
                        <input  class="btn" type="submit" value="Continue" (click)="checkOTP()">
                    </div>
                </article>
                <p *ngIf="otp">OTP: {{otp}}</p>
                <div class="grid">
                    <p class="xx-small">Your personal data will be used to support your experience throughout this website, to manage access to your account, and for other purposes described in our <a href="#">privacy policy</a>.</p>
                </div>
        
            </div>
        </section>

    </main>
<app-footer></app-footer>